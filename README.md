# Основні рекомендації, щодо розгортання та налаштування  Cyber ICE Box Platform

### Підготовка до розгортання Cyber ICE Box Platform

##### I. Мінімальні технічні вимоги для серверної інфраструктури

Для розгортання платформи необхідно провести попередню підготовку та відповідально віднестись до фізичної конфігурації вашого головного серверу, де буде розгорнуто Cyber ICE Box Platform. **Зауважимо**, що ядро платформи функціонує спираючись на технологію [k0s.0 v1.30.2](https://docs.k0sproject.io/v1.30.2+k0s.0/) , що являє собою порожній дистрибутив [Kubernetes](https://kubernetes.io/) з відкритим кодом, який налаштовано з усіма функціями, необхідними для створення кластера [Kubernetes](https://kubernetes.io/). Для роботи та коректного функціонування створеного кластеру необхідні мінімальні технічні вимоги, які наведені нижче. 
* Процессор: 1-2 vCPU.
* Оперативна пам’ять: DDR3 2Gb.
* Жорсткий накопичувач: HDD  10Gb.

Спеціально розроблена конфігураційна модель ядра Cyber ICE Box Platform, дозволяє адміністратору розгортати її майже на будь-якій операційній системі, яка підтримує створення кластера [Kubernetes](https://kubernetes.io/), однак тестування та робота дійсної моделі платформи, відбувається на архітектурі [x86-64](https://packages.debian.org/en/sid/binutils-x86-64-linux-gnu) дистрибутива Linux-подібної операційної системи. Зверніть увагу, що операційна система розгорнутих лабораторій повинна бути ідентичsq той, що використовується для розгортання Cyber ICE Box Platform. Для роботи та коректного функціонування операційної системи, серверна архітектура повинна відповідати мінімальним технічним вимогам, які наведено нижче. **Зауважимо**, що при збільшені запущених віртуальних машин збільшується об’єм необхідних фізичних ресурсів. Мінімальні вимоги прописані для одночасного запуску 10-ти лабораторій.
* Процессор: 2-4 vCPU.
* Оперативна пам’ять: DDR3 4Gb.
* Жорсткий накопичувач: HDD  50Gb.


##### II. Створення та призначення DNS запису та інші мережеві параметри


Cyber ICE Box Platform не може повноцінно функціонувати без призначеного домену, який надає можливість адміністратору налаштувати доступ до платформи всім зацікавленим особам з мережі Інтернет. Також, необхідна наявність SSL/TLS сертифікатів для можливості налаштування безпечного з’єднання користувачів із центральним сервером платформи. Домен та дочірні під домени можливо використати будь-які, які є доступні адміністратору під час налаштування платформи. Також, необхідно виділити два порти для доступу до серверу (наприклад, порт 80 для HTTP або порт 443 для HTTPS), який забезпечує доступ користувачів до веб-додатку. Окрім цього, необхідно виділити порт для VPN тунелю, що використовується для створення захищеного з'єднання між користувачами та сервером. Тестування платформи та її робоче налаштування, відбувалось за допомогою провайдера хмарних послуг [Cloudflare](https://www.cloudflare.com/), який дозволяє досить зручно отримати всі необхідні сертифікати та доменний простір для роботи платформи. Використати параметри створеного домену необхідно для налаштування конфігураційних файлів [config.yml](https://github.com/cybericebox/docs/blob/main/config.yml) та [platform.yml](https://github.com/cybericebox/docs/blob/main/platform.yml).


##### III. Налаштування reCAPTCHA від Google

Для забезпечення безпеки та захисту від автоматизованих атак на платформі обов’язковою умовою є налаштування [reCAPTCHA від Google](https://www.google.com/recaptcha/about/). Це допоможе запобігти несанкціонованому доступу та забезпечить надійність вашої авторизаційної форми. Налаштування та впровадження [reCAPTCHA](https://www.google.com/recaptcha/about/) для Cyber ICE Box Platform відбувається на офіційному сайті [reCAPTCHA](https://www.google.com/recaptcha/about/). Необхідні кроки щодо створення та налаштування сервісів наведено нижче.

* Активація reCAPTCHA:
   * Перейдіть до [Google reСAPTCHA.](https://www.google.com/recaptcha/admin)
   * Згенеруйте публічний та секретний ключі
   * Використайте створені ключі для [config.yml.](https://github.com/cybericebox/docs/blob/main/config.yml)
     
* Активація авторизації за допомогою Google:
  * Перейдіть до [Google Cloud Console.](https://console.cloud.google.com/)
  * Створіть новий проєкт або виберіть існуючий.
  * У розділі "APIs & Services" згенеруйте індетифікатор клієнта OAuth2.0 та секретний ключ.
      * Необхідною умовою для створення індетифікатора є заповнення параметру "Authorized redirect URIs".  
    Використайте цей шаблон: **https://<Кореневий домен платформи>/api/auth/google/callback**
  * Використайте створені ідентифікатор та секретний ключ для [config.yml.](https://github.com/cybericebox/docs/blob/main/config.yml)

**Лише виконавши умови з попередніх етапів, вам необхідно перейти до кроків безпосереднього [розгортання платформи](https://github.com/cybericebox/docs/blob/main/docs.md).**
